## 题目描述
有 n 位乘客即将登机，飞机正好有 n 个座位。第一位乘客的票丢了，他随便选了一个座位坐下。

剩下的乘客将会：
```
如果他们自己的座位还空着，就坐到自己的座位上，
当他们自己的座位被占用时，随机选择其他座位
```
第 n 位乘客坐在自己的座位上的概率是多少？

示例 1：
```
输入：n = 1
输出：1.00000
解释：第一个人只会坐在自己的位置上。
```
示例 2：
```
输入: n = 2
输出: 0.50000
解释：在第一个人选好座位坐下后，第二个人坐在自己的座位上的概率是 0.5。
```

提示：
```
1 <= n <= 10^5
```

### 解法 数学 DP
首先注意审题，我们假设从第1位乘客开始，第`i`号乘客的作为编号为`i`的话， 题目意思是，只有`1`号乘客没有票。

注意区分这里的座位编号和实际生活中的座位编号。这里的座位编号只是一个代号，并不是指第一排的某个座位…
这里`1`号乘客弄丢了票，所以他不知道他座位是第几排，所以只能从n个座位中随机找一个坐。
这个过程中有`1/n`概率恰好坐到`1`号座位。
如果其恰好坐到`1`号座位，那么实际上和他没有弄丢票，所有人对号入座的情况是一样的，此时`2`号到`n`号所有人都能坐进自己的座位，**因为他们没有弄丢自己的票**。

上述概念的辨析需要搞清楚，否则这题就很难理解…

在上面的基础上，我们考虑如下：

如上所说，首先有`1/n`概率`1`号恰好坐在`1`号座位，此时题目要求的`n`号坐在`n`号座位的概率，自然是1.0；
另外，`1`号也有`1/n`概率坐在`n`号座位，此时`n`不论怎么坐都坐不到正确位置，概率为0.0；

一般的，若`1`号坐在`i`号位置，则我们可以有如下推断：
第`2`号到`i-1`号所有人都可以正确入座。从`i`号开始到`n`号，所有人的入座情况是无法直接推断的。
但是此时这其实是一个更小规模的相同问题，即我们把`1, i+1, ... n`这些座位和`i, i+1, ..., n`这些人看做是一个`n - i + 1`规模的问题。

于是，就有了DP思路，即`f(n) = 1/n * 1 + 1/n * 0 + \sum_{i=2}^{n-1}{ 1/n * f(n-i+1) }`。

但是这个式子依然很难解。。
这里就要用到一些数学中数列的知识了。

这里，我们先将`n-1`代入上式，得到`f(n-1)`的表达。此时`n`的范围是`n >= 3`
然后再分别给两个式子乘以`n`和`n-1`后相减，
得到`n * f(n) - (n-1) * f(n-1)`。化简之后就可以得到最后的结论：`f(n) = f(n-1)`。
（上述推理过程可以见[官方答案](https://leetcode.cn/problems/airplane-seat-assignment-probability/solution/fei-ji-zuo-wei-fen-pei-gai-lu-by-leetcod-gyw4/)）

是的，这题的奥义在于，当`n >= 3`时，有`f(n) = f(n-1)`。
这也就是说，除了`f(1) = 1`外，后面的所有`f(2), f(3), ..., f(n)`都是0.5。

这…就不用说代码怎么写了吧。

总的看下来，这完全是一道数学题哈哈哈。当然其中还蕴含了一些DP的思想。