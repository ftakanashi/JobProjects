## 题目描述
给定一个正整数 n，返回 连续正整数满足所有数字之和为 n 的组数 。

示例 1:
```
输入: n = 5
输出: 2
解释: 5 = 2 + 3，共有两组连续整数([5],[2,3])求和后为 5。
```
示例 2:
```
输入: n = 9
输出: 3
解释: 9 = 4 + 5 = 2 + 3 + 4
```
示例 3:
```
输入: n = 15
输出: 4
解释: 15 = 8 + 7 = 4 + 5 + 6 = 1 + 2 + 3 + 4 + 5
```

提示:
```
1 <= n <= 109
```

### 解法 数学
这题看似有点蒙蔽，但是实际上仔细想想思路还是有的。

我先简单说说我自己想出来的思路。
考虑较简单的情况，考虑数字`n`的一对因数`a, b`（假设`a < b`），此时只要其中有一个是奇数，那么只要另一个减去前者的一半仍然大于0，
那么就有一个合法的连续片段可以加和得到`n`。

但是以上不是全部情况，还有`x.5`的情况，即偶数个连续整数相加的情况。
因此在获取因数时就不是按整数扫描，而是以0.5为步长扫描。
这样可以得到`n`的一张"因数表"，这个表内包括了所有整数因数对以及所有`y, x.5`形式的因数对。
然后基于这张表进行分析即可得到最终答案。

而官方的思路更加优雅。
首先，用数学证明了一波。题目让我们求连续`k`个数字可以加和得到`n`，假设这个片段中最小的数字是`x`，
显然最大的数字就是`x + k - 1`。根据等差数列求和，可以得到：
`(k * (2x + k - 1)) / 2 == n`，转换一下得到：`x = n/k - (k-1)/2`。
而上述情况要成立的充要条件是`x > 0`，所以代入后可以得到一个结论，即`k(k-1) < 2n`。以这个为界限遍历`k`即可。

那么如何判断一个`k`合不合法呢？这个更简单，从`k`的奇偶性出发可以得到结论。
若`k`是一个奇数，如上所述，只要`n`能被`k`整除就可以（范围条件已经在`k(k-1) < 2n`中做出限制）
若`k`是一个偶数，那么就是上述`n/k`必须是`x.5`的形式。换个说法，即`n % k`不等于0但`2 * n % k == 0`。

按照以上思路写代码即可。
