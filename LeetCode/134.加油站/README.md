## 题目描述

在一条环路上有 N 个加油站，其中第 i 个加油站有汽油 gas[i] 升。

你有一辆油箱容量无限的的汽车，从第 i 个加油站开往第 i+1 个加油站需要消耗汽油 cost[i] 升。你从其中的一个加油站出发，开始时油箱为空。

如果你可以绕环路行驶一周，则返回出发时加油站的编号，否则返回 -1。

说明: 
- 如果题目有解，该答案即为唯一答案。
- 输入数组均为非空数组，且长度相同。
- 输入数组中的元素均为非负数。

示例 1:
>输入: 
>
>gas  = [1,2,3,4,5]
>
>cost = [3,4,5,1,2]
>
>输出: 3
>
>解释:
>
>从 3 号加油站(索引为 3 处)出发，可获得 4 升汽油。此时油箱有 = 0 + 4 = 4 升汽油
>
>开往 4 号加油站，此时油箱有 4 - 1 + 5 = 8 升汽油
>
>开往 0 号加油站，此时油箱有 8 - 2 + 1 = 7 升汽油
>
>开往 1 号加油站，此时油箱有 7 - 3 + 2 = 6 升汽油
>
>开往 2 号加油站，此时油箱有 6 - 4 + 3 = 5 升汽油
>
>开往 3 号加油站，你需要消耗 5 升汽油，正好足够你返回到 3 号加油站。
>
>因此，3 可为起始索引。

示例 2:
>输入: 
>
>gas  = [2,3,4]
>
>cost = [3,4,3]
>
>输出: -1
>
>解释:
>
>你不能从 0 号或 1 号加油站出发，因为没有足够的汽油可以让你行驶到下一个加油站。
>
>我们从 2 号加油站出发，可以获得 4 升汽油。 此时油箱有 = 0 + 4 = 4 升汽油
>
>开往 0 号加油站，此时油箱有 4 - 3 + 2 = 3 升汽油
>
>开往 1 号加油站，此时油箱有 3 - 3 + 3 = 3 升汽油
>
>你无法返回 2 号加油站，因为返程需要消耗 4 升汽油，但是你的油箱只有 3 升汽油。
>
>因此，无论怎样，你都不可能绕环路行驶一周。

### 审题
先明确几个事情，因为题目给出的cost是从`i`到`i+1`个加油站的cost而不是反向的，所以为了方便考虑，只考虑单向走。

所以这个环状路不用考虑，顺时针和逆时针两个方向。

另外注意由于是环状路，所以记得当下标超过len-1的时候重置回0。
或者说为了统一代码可以写成`i = (i + 1) % length`

### 解法 模拟并优化
一个最朴素的想法，就是暴力遍历每个节点作为开始节点。
当从某个节点出发时可以走完整条路就返回这个开始节点，所有节点都不行就返回-1。

#### 一次改进
这里，在写写画画的过程中，发现了一个小skill。其实对于每个节点，都有可以收获到的汽油`gas[i]`
以及到达下一个节点时需要花费的汽油`cost[i]`。

这么一来，其实可以发现，存在`gas - cost`这个数组。它的下标i项表达的意思是，从`i`走到`i+1`的净汽油剩余量。
显然这个值可正可负。而开始节点，这个值必然要是正值，否则直接出门死。
然后在行进的过程中，需要维护一个累加值，这个值开始是0，没到达一个节点就加上`tmp[i]`，如果这个值变成负数，
说明以当前车里剩余汽油量加上`i`节点得到的补给，都不足以到达`i + 1`节点。

由此，第一波优化，就是得到这个`tmp = gas - cost`这个数组。完了扫描它，并维护累计的汽油剩余量。
当汽油剩余量为负数则说明无法走通。
此外，当从节点i开始到节点j时发现走不通时，那么i到j之间的所有节点作为开始节点都会在j处停止前进，因此
可以直接把要扫描的下一节点定位j + 1

#### 二次改进
但是这个算法本质上还是暴力，把每个节点当做开始节点时，还是有可能需要遍历完整个序列。

注意到，遍历序列是为了得到累计的净汽油剩余量，而实际上，从某个节点i前进到某个节点j的过程的净汽油剩余量，是固定的。
到达节点j时的剩余汽油量只和到达节点i时的汽油剩余汽油量，以及i到j过程的净汽油剩余量，这两个量相关。

从某个节点开始到数组末尾的汽油量计算，可以在今后的遍历中去计算，而在那之前的剩余净汽油量，实际上在之前的计算中就可以算出并且保存下来，
这样就不用再多余地遍历过去了。

举个例子，示例1中的tmp数组是`-2 -2 -2 3 3`。如果开始节点定为3号加油站（下标为3），那么3号到4号以及4号到0号，此时汽油剩余量是3+3=6。
而接下来，从0号到3号加油站路程的汽油净剩余量是多少？答案是-6，而这个-6实际上是`sum(tmp[0:3])`，而这个值在遍历到3号加油站作为起点之前，
就可以求出。此时6直接加上-6，相当于直接从0号跳到3号，完成了一圈路程。而净剩余汽油为6-6=0。也就说，一圈走完来到3号加油站时刚好汽油烧完。

第二个例子，tmp是`-1 -1 1`。0号和1号加油站显然不能作为起点，但是在遍历到2号加油站时我们也知道，不论你的汽油有多少，从0号走到1号就是要耗费
`-1 + -1 = -2`的汽油。此时，2号加油站作为起点，跑到0号时汽油精神余量为1(即`tmp[2]`)。而再往后呢？假如强行让他跑到起点2号加油站，汽油要耗费
刚刚算出来，是-2。1的净剩余量是不够的。因为我们不关心他能否到达1号，是在什么地方烧光汽油的，由于-2 + 1 < 0所以可以直接说，2号加油站作为起点时
不存在通路。

