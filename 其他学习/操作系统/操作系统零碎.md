# 操作系统零碎

## 按下开机键后发生的事

1. 主板通电
2. 主板上有个BIOS芯片，芯片中存放着一些写死的程序。（更高端的有UEFI，UEFI提供彩色的启动界面）BIOS程序首先进行通电自检，检查各个硬件（尤其是内存，因为要把磁盘上的OS读取到内存当中）是否正常。
3. BIOS加载bootloader（引导程序）到内存。bootloader是存放在Master Boot Record(MBR)中的程序。因此BIOS可以直接读取到。
4. 由bootloader选择相应的操作系统，启动操作系统。操作系统接管整个计算机。

## top中各种cpu使用率含义

我们知道CPU是按照时间片分给进程使用的。因此CPU使用率也可以说是其过去一段时间有多少时间片分给任务进行计算的占比。换句话说，就是过去一段时间CPU运行时间占比。

根据分配给的任务性质不同（这个任务是广义的，比如可以指用户态or系统态进程、也可以指等待IO、软中断硬中断等等）

- User Time & System Time

  ```
  顾名思义，就是CPU在用户态和内核态两种状态下各自时间比
  ```

- Nice Time

  ```
  指CPU用来给进程重新计算优先级的用户态的时间比。Nice Time也包含在User Time中。
  ```

- Idle Time

  ```
  指CPU空闲时间比，通常Idle + User + System = 100%
  ```

- Waiting Time

  ```
  指等待磁盘写入的CPU时间比
  ```

- Soft/Hard IRQ Time

  ```
  指软/硬中断时间比。软硬中断的区别在于中断请求由软件还是硬件发出。而保存CPU信息，分析中断原因，开始调用中断处理函数，这部分的时间就是软硬中断时耗费的时间了。
  中断时间也包含在System Time中。
  ```

  

