>2021秋招 Shopee笔试题
> 
>https://www.nowcoder.com/test/28761331/summary 第五题

## 题目描述
给定一个只包含三种字符的字符串：（ ，） 和 *，写一个函数来检验这个字符串是否为有效字符串。有效字符串具有如下规则：
任何左括号 ( 必须有相应的右括号 )。
任何右括号 ) 必须有相应的左括号 ( 。
左括号 ( 必须在对应的右括号之前 )。
* 可以被视为单个右括号 ) ，或单个左括号 ( ，或一个空字符串。
一个空字符串也被视为有效字符串。
```
输入例子1:
"()"

输出例子1:
true

输入例子2:
"(*)"

输出例子2:
true

输入例子3:
"(*))"

输出例子3:
true
```

### 解法 DP
双字符串套路的DP，`dp[i][j]`为字符串`s[i:j+1]`的合法性。
使用对角线向右上方遍历的方式。

初始化值，对于每个`dp[i][i]`，只有当`s[i] == '*'`是才是True。
对每个`dp[i][i+1]`，只有当`s[i] + s[i+1]`是`(), *), (*, **`四种才是True。

接着是转移方程。
转移方程考虑两种情况，扫描到`dp[i][j]`的时候，

第一，若`dp[i+1][j-1]`是True，且`s[i] + s[j]`是上面说过的四种情况之一，那么刚好，可以构成合法字符串。所以可以写True。

第二，其实第一种情况是考虑`s[j]`和`s[i]`配对的情况。如果这俩不能配对，则需要考虑`s[j]`和`s[k] （i < k < j）`配对的情况。
此时需要`for k in range(i+1, j)`进行扫描，针对每个`k`，只要`dp[i][k-1] and dp[k][j]`，前后两部分都合法，自然整个字符串也合法。

按照以上的转移方程写代码即可。

#### 追加笔记(2021/09/12)
同`LC.678`